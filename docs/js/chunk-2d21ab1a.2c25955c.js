(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ab1a"],{bd35:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[[o("a-card",{staticStyle:{width:"240px"},attrs:{hoverable:""},scopedSlots:t._u([{key:"cover",fn:function(){return[o("img",{attrs:{src:t.bookInfo.cover}})]},proxy:!0}])})],[o("a-descriptions",{attrs:{title:"Borrowing Info",size:"default",bordered:""}},[o("a-descriptions-item",{attrs:{label:"book name "}},[t._v(t._s(t.bookInfo.book_name))]),o("a-descriptions-item",{attrs:{label:"borrowing id"}},[t._v(t._s(t.borrowingDetail.borrowing_id))]),o("a-descriptions-item",{attrs:{label:"ISBN"}},[t._v(t._s(t.borrowingDetail.ISBN))]),o("a-descriptions-item",{attrs:{label:"status"}},[t._v(t._s(t.borrowingDetail.status))]),o("a-descriptions-item",{attrs:{label:"borrow time"}},[t._v(t._s(t.borrowingDetail.borrow_time))]),o("a-descriptions-item",{attrs:{label:"due time"}},[t._v(t._s(t.borrowingDetail.due_time))]),o("a-descriptions-item",{attrs:{label:"return time"}},[t._v(t._s(t.borrowingDetail.return_time))]),o("a-descriptions-item",{attrs:{label:"fine"}},[t._v(t._s(t.borrowingDetail.fine))])],1)],0===t.borrowingDetail.status?o("a-tooltip",{staticClass:"item",attrs:{effect:"dark",size:"small",content:"详情",placement:"top"}},[o("a-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.returnBook()}}},[t._v(" 归还 ")]),o("a-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.renewBook()}}},[t._v("续借")])],1):t._e()],2)},r=[],i=(o("d3b7"),{data:function(){return{borrowingDetail:[],bookInfo:[]}},created:function(){this.getBorrowingDetail(this.$route.params.id)},methods:{getBorrowingDetail:function(t){var e=this,o=new Headers;o.append("access_token",this.access_token);var n={method:"GET",headers:o},r="https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/user/borrowing/detail?borrowing_id="+t,i=new Request(r,n);fetch(i).then((function(t){return t.json()})).then((function(t){e.borrowingDetail=t})).catch((function(t){return console.log("Request Failed",t)})),console.log(this.borrowingDetail);var s={method:"GET"},a="https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/book/detail?ISBN="+this.borrowingDetail.ISBN,c=new Request(a,s);fetch(c).then((function(t){return t.json()})).then((function(t){console.log(t),e.bookInfo=t.book_info}))},returnBook:function(){var t=this.borrowingDetail.borrowing_id;console.log(t);var e=new Headers;e.append("access_token",this.access_token);var o={method:"POST",body:t,headers:e},n=new Request("https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/borrowing/return",o);fetch(n).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(t){return console.log("Request Failed",t)}))},renewBook:function(){var t=this.borrowingDetail.borrowing_id;console.log(t);var e=new Headers;e.append("access_token",this.access_token);var o={method:"POST",body:t,headers:e},n=new Request("https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/borrowing/renew",o);fetch(n).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(t){return console.log("Request Failed",t)}))}}}),s=i,a=o("2877"),c=Object(a["a"])(s,n,r,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d21ab1a.2c25955c.js.map