(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10d45972"],{"00b4":function(e,a,l){"use strict";l("ac1f");var t=l("23e7"),n=l("da84"),r=l("c65b"),o=l("e330"),u=l("1626"),i=l("861d"),c=function(){var e=!1,a=/[ac]/;return a.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===a.test("abc")&&e}(),s=n.Error,b=o(/./.test);t({target:"RegExp",proto:!0,forced:!c},{test:function(e){var a=this.exec;if(!u(a))return b(this,e);var l=r(a,this,e);if(null!==l&&!i(l))throw new s("RegExp exec method returned something other than an Object or null");return!!l}})},"4df4":function(e,a,l){"use strict";var t=l("da84"),n=l("0366"),r=l("c65b"),o=l("7b0b"),u=l("9bdd"),i=l("e95a"),c=l("68ee"),s=l("07fa"),b=l("8418"),v=l("9a1f"),f=l("35a1"),h=t.Array;e.exports=function(e){var a=o(e),l=c(this),t=arguments.length,d=t>1?arguments[1]:void 0,p=void 0!==d;p&&(d=n(d,t>2?arguments[2]:void 0));var g,y,m,w,S,O,x=f(a),A=0;if(!x||this==h&&i(x))for(g=s(a),y=l?new this(g):h(g);g>A;A++)O=p?d(a[A],A):a[A],b(y,A,O);else for(w=v(a,x),S=w.next,y=l?new this:[];!(m=r(S,w)).done;A++)O=p?u(w,d,[m.value,A],!0):m.value,b(y,A,O);return y.length=A,y}},"7ebb":function(e,a,l){},"9bdd":function(e,a,l){var t=l("825a"),n=l("2a62");e.exports=function(e,a,l,r){try{return r?a(t(l)[0],l[1]):a(l)}catch(o){n(e,"throw",o)}}},a630:function(e,a,l){var t=l("23e7"),n=l("4df4"),r=l("1c7e"),o=!r((function(e){Array.from(e)}));t({target:"Array",stat:!0,forced:o},{from:n})},b85c:function(e,a,l){"use strict";l.d(a,"a",(function(){return r}));l("a4d3"),l("e01a"),l("d3b7"),l("d28b"),l("3ca3"),l("ddb0"),l("fb6a"),l("b0c0"),l("a630"),l("ac1f"),l("00b4");function t(e,a){(null==a||a>e.length)&&(a=e.length);for(var l=0,t=new Array(a);l<a;l++)t[l]=e[l];return t}function n(e,a){if(e){if("string"===typeof e)return t(e,a);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?t(e,a):void 0}}function r(e,a){var l="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=n(e))||a&&e&&"number"===typeof e.length){l&&(e=l);var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,i=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return u=e.done,e},e:function(e){i=!0,o=e},f:function(){try{u||null==l["return"]||l["return"]()}finally{if(i)throw o}}}}},e04f:function(e,a,l){"use strict";l("7ebb")},e81a:function(e,a,l){"use strict";l("a4d3"),l("e01a"),l("d3b7"),l("d28b"),l("3ca3"),l("ddb0");function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=l("1da1"),r=(l("96cf"),l("e9c4"),[{value:"A",label:"A马克思主义、列宁主义、毛泽东思想、邓小平理论",children:[{value:"A",label:"全部"},{value:"A1",label:"A1马克思、恩格斯著作"},{value:"A2",label:"A2毛泽东著作"},{value:"A3",label:"A3马克思主义、列宁主义、毛泽东思想、邓小平理论的学习和研究"}]},{value:"B",label:"B哲学、宗教",children:[{value:"B",label:"全部"},{value:"B0",label:"B0哲学理论"},{value:"B81",label:"B81逻辑学"},{value:"B84",label:"B84心理学"}]},{value:"C",label:"C社会科学总论",children:[{value:"C",label:"全部"},{value:"C0",label:"C0社会科学理论与方法论"},{value:"C91",label:"C91社会学"},{value:"C8",label:"C8统计学"},{value:"C93",label:"C93管理学"}]},{value:"D",label:"D政治、法律",children:[{value:"D",label:"全部"},{value:"D2",label:"D2中国共产党"},{value:"D8",label:"D8外交、国际关系"},{value:"D9",label:"D9法律"}]},{value:"E",label:"E军事",children:[{value:"E",label:"全部"},{value:"E0",label:"E0军事理论"},{value:"E2",label:"E2中国军事"}]},{value:"F",label:"F经济",children:[{value:"F",label:"全部"},{value:"F0",label:"F0经济学"},{value:"F8",label:"F8财政、金融"}]},{value:"G",label:"G文化、科学、教育、体育",children:[{value:"G",label:"全部"},{value:"G4",label:"G4教育"},{value:"",label:"G8体育"}]},{value:"H",label:"H语言、文字",children:[{value:"H",label:"全部"},{value:"H0",label:"H0语言学"},{value:"H1",label:"H1汉语"},{value:"H3",label:"H3常用外国语"}]},{value:"I",label:"I文学",children:[{value:"I",label:"全部"},{value:"I1",label:"I1世界文学"},{value:"I2",label:"I2中国文学"}]},{value:"J",label:"J艺术",children:[{value:"J",label:"全部"},{value:"J2",label:"J2绘画"},{value:"J9",label:"J9电影、电视艺术"}]},{value:"K",label:"K历史、地理",children:[{value:"K",label:"全部"},{value:"K1",label:"K1世界史"},{value:"K2",label:"K2中国史"},{value:"K9",label:"K9地理"}]},{value:"N",label:"N自然科学总论",children:[{value:"N",label:"全部"},{value:"N0",label:"N0自然科学理论与方法论"}]},{value:"O",label:"O数理科学和化学",children:[{value:"O",label:"全部"},{value:"O1",label:"O1数学"},{value:"O4",label:"O4物理学"},{value:"O6",label:"O6化学"}]},{value:"P",label:"P天文学、地球科学",children:[{value:"P",label:"全部"},{value:"P1",label:"P1天文学"},{value:"P9",label:"P9自然地理学"}]},{value:"Q",label:"Q生物科学",children:[{value:"Q",label:"全部"},{value:"Q2",label:"Q2细胞生物学"},{value:"Q4",label:"Q4遗传学"},{value:"Q94",label:"Q94植物学"}]},{value:"R",label:"R医药、卫生",children:[{value:"R",label:"全部"},{value:"R3",label:"R3基础医学"},{value:"R4",label:"R4临床医学"},{value:"R9",label:"R9药学"}]},{value:"S",label:"S农业科学",children:[{value:"S",label:"全部"},{value:"S1",label:"S1农业基础科学"},{value:"S6",label:"S6园艺"}]},{value:"T",label:"T工业技术",children:[{value:"T",label:"全部"},{value:"TB",label:"TB一般工业技术"},{value:"TN",label:"TN无线电电子学、电信技术"},{value:"TP",label:"TP自动化技术、计算机技术"}]},{value:"U",label:"U交通运输",children:[{value:"U",label:"全部"},{value:"U2",label:"U2铁路运输"},{value:"U4",label:"U4公路运输"},{value:"U6",label:"U6水路运输"}]},{value:"V",label:"V航空、航天",children:[{value:"V",label:"全部"},{value:"V2",label:"V2航空"},{value:"V4",label:"V4航天"}]},{value:"X",label:"X环境科学、安全科学",children:[{value:"X",label:"全部"},{value:"X1",label:"X1环境科学基础理论"},{value:"X3",label:"X3环境保护管理"}]},{value:"Z",label:"Z综合类图书",children:[{value:"Z",label:"全部"}]}]),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var a,l,t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=new Headers,a.append("Content-Type","application/json"),l=JSON.stringify({category:JSON.stringify(r)}),t={method:"POST",headers:a,body:l,redirect:"follow"},fetch("https://testip-cloud-homework-lralemfqco.cn-hangzhou.fcapp.run/editgory",t).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getOptions"),e.next=3,fetch("https://testip-cloud-homework-lralemfqco.cn-hangzhou.fcapp.run/category").then((function(e){return e.json()})).then((function(e){return JSON.parse(e.categoryString)}));case 3:return a=e.sent,console.log(t(a)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a["a"]={getOptions:u,resetOptions:o}},edfe:function(e,a,l){"use strict";l.r(a);var t=function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("a-card",[l("a-tabs",{attrs:{"default-active-key":"1"}},[l("a-tab-pane",{key:"1",attrs:{tab:"Add fist level category"}},[l("a-form",[l("a-space",{attrs:{direction:"vertical"}},[l("a-form-item",{attrs:{label:"Original options:"}},[l("a-cascader",{attrs:{options:e.originalOptions,placeholder:"Check the riginal options"}})],1),l("a-form-item",{attrs:{label:"New category value",extra:"e.g. A"}},[l("a-input",{attrs:{placeholder:"Input the new category value, e.g. A"},model:{value:e.newFather.value,callback:function(a){e.$set(e.newFather,"value",a)},expression:"newFather.value"}})],1),l("a-form-item",{attrs:{label:"New category label",extra:"e.g. 马克思主义、列宁主义、毛泽东思想、邓小平理论"}},[l("a-input",{attrs:{placeholder:"Input the new category label"},model:{value:e.newFather.label,callback:function(a){e.$set(e.newFather,"label",a)},expression:"newFather.label"}})],1),l("a-form-item",[l("a-button",{attrs:{loading:e.loading,size:"large",type:"primary"},on:{click:e.onSubmitFather}},[e._v("SUBMIT")])],1)],1)],1)],1),l("a-tab-pane",{key:"2",attrs:{tab:"Add subcategory","force-render":""}},[l("a-form",[l("a-space",{attrs:{direction:"vertical"}},[l("a-form-item",{attrs:{label:"Father option:"}},[l("a-cascader",{attrs:{options:e.options,placeholder:"Select father options"},model:{value:e.newSon.father,callback:function(a){e.$set(e.newSon,"father",a)},expression:"newSon.father"}})],1),l("a-form-item",{attrs:{label:"New subcategory number",extra:"e.g. 1"}},[l("a-input",{attrs:{placeholder:"Input the new category value, e.g. A"},model:{value:e.newSon.value,callback:function(a){e.$set(e.newSon,"value",a)},expression:"newSon.value"}})],1),l("a-form-item",{attrs:{label:"New subcategory value",extra:"e.g. 马克思、恩格斯著作"}},[l("a-input",{attrs:{placeholder:"Input the new category label"},model:{value:e.newSon.label,callback:function(a){e.$set(e.newSon,"label",a)},expression:"newSon.label"}})],1),l("a-form-item",[l("a-button",{attrs:{loading:e.loading,size:"large",type:"primary"},on:{click:e.onSubmitSon}},[e._v("SUBMIT")])],1)],1)],1)],1)],1),l("a-button",{attrs:{type:"danger",loading:e.loadingReset},on:{click:e.resetCategory}},[e._v(" RESET CATEGORY ")])],1)},n=[],r=l("b85c"),o=l("1da1"),u=(l("e9c4"),l("d3b7"),l("96cf"),l("e81a")),i={name:"AddByIsbn",data:function(){return{newFirstLevel:[],originalOptions:[],options:[],newFather:{value:null,label:null},newSon:{father:void 0,value:null,label:null},loading:!1,loadingReset:!1}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var l,t,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,u["a"].getOptions();case 2:return a.next=4,a.sent;case 4:l=a.sent,e.originalOptions=l,t=Object(r["a"])(l);try{for(t.s();!(n=t.n()).done;)o=n.value,e.options.push({value:o.value,label:o.label})}catch(i){t.e(i)}finally{t.f()}case 8:case"end":return a.stop()}}),a)})))()},methods:{onSubmitFather:function(){this.loading=!0,this.originalOptions.push({value:this.newFather.value,label:this.newFather.value+this.newFather.label});var e=new Headers;e.append("Content-Type","application/json");var a=JSON.stringify({category:JSON.stringify(this.originalOptions)}),l={method:"POST",headers:e,body:a,redirect:"follow"},t=this;fetch("https://testip-cloud-homework-lralemfqco.cn-hangzhou.fcapp.run/editgory",l).then((function(e){return e.text()})).then((function(e){t.$message.success("Add category successfully."),t.loading=!1})).catch((function(e){console.log("error",e),t.loading=!1,t.$message.error("Failed to add the category.")}))},onSubmitSon:function(){console.log(this.newSon.father);for(var e=this.newSon.father,a={value:e[0]+this.newSon.value,label:e[0]+this.newSon.value+this.newSon.label},l=0;l<this.originalOptions.length;l++)if(this.originalOptions[l].value===e[0]){this.originalOptions[l].children.push(a);break}var t=new Headers;t.append("Content-Type","application/json");var n=JSON.stringify({category:JSON.stringify(this.originalOptions)}),r={method:"POST",headers:t,body:n,redirect:"follow"},o=this;fetch("https://testip-cloud-homework-lralemfqco.cn-hangzhou.fcapp.run/editgory",r).then((function(e){return e.text()})).then((function(e){o.$message.success("Add category successfully."),o.loading=!1})).catch((function(e){console.log("error",e),o.loading=!1,o.$message.error("Failed to add the category.")}))},resetCategory:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loadingReset=!0,a.next=3,u["a"].resetOptions();case 3:e.loadingReset=!1,e.$message.success("Reset options successfully.");case 5:case"end":return a.stop()}}),a)})))()},clear:function(){this.newFather={value:null,label:null},this.newSon={father:void 0,value:null,label:null}}}},c=i,s=(l("e04f"),l("2877")),b=Object(s["a"])(c,t,n,!1,null,null,null);a["default"]=b.exports},fb6a:function(e,a,l){"use strict";var t=l("23e7"),n=l("da84"),r=l("e8b5"),o=l("68ee"),u=l("861d"),i=l("23cb"),c=l("07fa"),s=l("fc6a"),b=l("8418"),v=l("b622"),f=l("1dde"),h=l("f36a"),d=f("slice"),p=v("species"),g=n.Array,y=Math.max;t({target:"Array",proto:!0,forced:!d},{slice:function(e,a){var l,t,n,v=s(this),f=c(v),d=i(e,f),m=i(void 0===a?f:a,f);if(r(v)&&(l=v.constructor,o(l)&&(l===g||r(l.prototype))?l=void 0:u(l)&&(l=l[p],null===l&&(l=void 0)),l===g||void 0===l))return h(v,d,m);for(t=new(void 0===l?g:l)(y(m-d,0)),n=0;d<m;d++,n++)d in v&&b(t,n,v[d]);return t.length=n,t}})}}]);
//# sourceMappingURL=chunk-10d45972.c1579918.js.map