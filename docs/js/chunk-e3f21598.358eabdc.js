(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3f21598"],{"18c8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[[n("a-table",{attrs:{dataSource:e.reservationList,rowKey:function(e){return e.reservation_id},loading:e.loading,pagination:e.pagination}},[n("a-table-column",{attrs:{align:"center",title:"BOOK NAME","data-index":"book_name"}}),n("a-table-column",{attrs:{align:"center",title:"ISBN","data-index":"ISBN"}}),n("a-table-column",{attrs:{align:"center",title:"RESERVATION TIME","data-index":"reservation_time"}}),n("a-table-column",{attrs:{align:"center",title:"STATUS","data-index":"status"},scopedSlots:e._u([{key:"default",fn:function(t,r){return[0==r.status?n("a-tag",{attrs:{color:"green"}},[e._v("ON GOING")]):1==r.status?n("a-tag",{attrs:{color:"red"}},[e._v("CANCELLED")]):e._e()]}}])}),n("a-table-column",{attrs:{align:"center",title:"ACTION"},scopedSlots:e._u([{key:"default",fn:function(t,r){return[n("a-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.routeToDetail(r.reservation_id)}}},[e._v("RESERVATION DETAIL")])]}}])})],1)]],2)},a=[],o=n("1da1"),i=(n("96cf"),n("a9e3"),n("d3b7"),n("3ca3"),n("ddb0"),n("93d6")),s={name:"reservation",props:{size:{default:10,type:Number}},data:function(){return{access_token:"",reservationList:[],loading:!0,pagination:{}}},created:function(){this.getReservation(),this.pagination.pageSize=this.size},methods:{getReservation:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,s,c,u,l,f,p,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,r=new Headers,r.append("Content-Type","application/json"),r.append("token",Object(i["c"])()),a={method:"GET",headers:r},o=new Request(e.$global.BASE_URL+"/api/reservation",a),t.next=8,fetch(o).then((function(e){return e.json()})).then((function(e){console.log("reservation",e),s=e.data})).catch((function(e){return console.log("Request Failed",e)}));case 8:c=regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s[n].reservation_time=s[n].reservation_time.substring(0,10),l=new Headers,l.append("Content-Type","application/json"),l.append("token",Object(i["c"])()),f={method:"GET",headers:l},p=e.$global.BASE_URL+"/api/admin/book/detail?ISBN="+s[n].ISBN,d=new Request(p,f),t.next=9,fetch(d).then((function(e){return e.json()})).then((function(e){s[n].book_name=e.data[0].bookName}));case 9:case"end":return t.stop()}}),t)})),u=0;case 10:if(!(u<s.length)){t.next=15;break}return t.delegateYield(c(u),"t0",12);case 12:u++,t.next=10;break;case 15:n.reservationList=s,console.log("reservationList",e.reservationList),e.loading=!1;case 18:case"end":return t.stop()}}),t)})))()},routeToDetail:function(e){this.$router.push({path:"/user/reservation/"+e,params:{id:e}})}}},c=s,u=n("2877"),l=Object(u["a"])(c,r,a,!1,null,null,null);t["default"]=l.exports},"408a":function(e,t,n){var r=n("e330");e.exports=r(1..valueOf)},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("e330"),a=n("1d80"),o=n("577e"),i=n("5899"),s=r("".replace),c="["+i+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(e){return function(t){var n=o(a(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},7156:function(e,t,n){var r=n("1626"),a=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var i,s;return o&&r(i=t.constructor)&&i!==n&&a(s=i.prototype)&&s!==n.prototype&&o(e,s),e}},a9e3:function(e,t,n){"use strict";var r=n("83ab"),a=n("da84"),o=n("e330"),i=n("94ca"),s=n("6eeb"),c=n("1a2d"),u=n("7156"),l=n("3a9b"),f=n("d9b5"),p=n("c04e"),d=n("d039"),g=n("241c").f,b=n("06cf").f,v=n("9bf2").f,h=n("408a"),m=n("58a8").trim,N="Number",E=a[N],I=E.prototype,_=a.TypeError,S=o("".slice),T=o("".charCodeAt),k=function(e){var t=p(e,"number");return"bigint"==typeof t?t:w(t)},w=function(e){var t,n,r,a,o,i,s,c,u=p(e,"number");if(f(u))throw _("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=m(u),t=T(u,0),43===t||45===t){if(n=T(u,2),88===n||120===n)return NaN}else if(48===t){switch(T(u,1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(o=S(u,2),i=o.length,s=0;s<i;s++)if(c=T(o,s),c<48||c>a)return NaN;return parseInt(o,r)}return+u};if(i(N,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var R,x=function(e){var t=arguments.length<1?0:E(k(e)),n=this;return l(I,n)&&d((function(){h(n)}))?u(Object(t),n,x):t},A=r?g(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),y=0;A.length>y;y++)c(E,R=A[y])&&!c(x,R)&&v(x,R,b(E,R));x.prototype=I,I.constructor=x,s(a,N,x)}}}]);
//# sourceMappingURL=chunk-e3f21598.358eabdc.js.map