(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e57cf"],{9563:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[[s("a-descriptions",{attrs:{title:"Reservation Info",size:"default",bordered:""}},[s("a-descriptions-item",{attrs:{label:"reservation_id"}},[e._v(e._s(e.reservationDetail.reservation_id))]),s("a-descriptions-item",{attrs:{label:"ISBN"}},[e._v(e._s(e.reservationDetail.ISBN))]),s("a-descriptions-item",{attrs:{label:"reservation_time"}},[e._v(e._s(e.reservationDetail.reservation_time))]),s("a-descriptions-item",{attrs:{label:"status"}},[e._v(e._s(e.reservationDetail.status))])],1)],1===e.reservationDetail.status?s("a-tooltip",{staticClass:"item",attrs:{effect:"dark",size:"small",content:"取消预约",placement:"top"}},[s("a-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.cancelReservation()}}},[e._v(" 取消预约 ")])],1):e._e(),0===e.reservationDetail.status?s("a-tooltip",{staticClass:"item",attrs:{effect:"dark",size:"small",content:"重新预约",placement:"top"}},[s("a-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.reReservation()}}},[e._v(" 重新预约 ")])],1):e._e()],2)},a=[],i=(s("d3b7"),{data:function(){return{reservationDetail:[],isRouterAlive:!0}},created:function(){this.getReservationDetail(this.$route.params.id)},methods:{getReservationDetail:function(e){console.log(e);var t=this,s=new Headers;s.append("access_token",this.access_token);var n={method:"GET",headers:s},a="https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/reservation/detail?reservation_id="+e,i=new Request(a,n);fetch(i).then((function(e){return e.json()})).then((function(e){console.log(e),t.reservationDetail=e})).catch((function(e){return console.log("Request Failed",e)}))},cancelReservation:function(){var e=this.reservationDetail.reservation_id;console.log(e);var t=new Headers;t.append("access_token",this.access_token);var s={method:"POST",body:e,headers:t},n=new Request("https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/user/reservation/cancel",s);this.reload(),fetch(n).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("Request Failed",e)}))},reReservation:function(){var e=this.reservationDetail.ISBN;console.log(e);var t=new Headers;t.append("access_token",this.access_token);var s={method:"POST",body:e,headers:t},n=new Request("https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/user/reservation/add",s);this.reload(),fetch(n).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("Request Failed",e)}))},reload:function(){this.isRouterAlive=!1,this.$nextTick((function(){this.isRouterAlive=!0}))}}}),o=i,r=s("2877"),c=Object(r["a"])(o,n,a,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0e57cf.51def92c.js.map