(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39b4837b"],{"00b4":function(e,t,n){"use strict";n("ac1f");var r=n("23e7"),a=n("da84"),o=n("c65b"),i=n("e330"),s=n("1626"),l=n("861d"),u=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),c=a.Error,p=i(/./.test);r({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=this.exec;if(!s(t))return p(this,e);var n=o(t,this,e);if(null!==n&&!l(n))throw new c("RegExp exec method returned something other than an Object or null");return!!n}})},"107c":function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1276:function(e,t,n){"use strict";var r=n("2ba4"),a=n("c65b"),o=n("e330"),i=n("d784"),s=n("44e7"),l=n("825a"),u=n("1d80"),c=n("4840"),p=n("8aa5"),d=n("50c4"),f=n("577e"),g=n("dc4a"),h=n("4dae"),v=n("14c3"),m=n("9263"),b=n("9f7f"),x=n("d039"),w=b.UNSUPPORTED_Y,I=4294967295,U=Math.min,y=[].push,R=o(/./.exec),E=o(y),_=o("".slice),C=!x((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));i("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=f(u(this)),i=void 0===n?I:n>>>0;if(0===i)return[];if(void 0===e)return[o];if(!s(e))return a(t,o,e,i);var l,c,p,d=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,b=new RegExp(e.source,g+"g");while(l=a(m,b,o)){if(c=b.lastIndex,c>v&&(E(d,_(o,v,l.index)),l.length>1&&l.index<o.length&&r(y,d,h(l,1)),p=l[0].length,v=c,d.length>=i))break;b.lastIndex===l.index&&b.lastIndex++}return v===o.length?!p&&R(b,"")||E(d,""):E(d,_(o,v)),d.length>i?h(d,0,i):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:a(t,this,e,n)}:t,[function(t,n){var r=u(this),i=void 0==t?void 0:g(t,e);return i?a(i,t,r,n):a(o,f(r),t,n)},function(e,r){var a=l(this),i=f(e),s=n(o,a,i,r,o!==t);if(s.done)return s.value;var u=c(a,RegExp),g=a.unicode,h=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(w?"g":"y"),m=new u(w?"^(?:"+a.source+")":a,h),b=void 0===r?I:r>>>0;if(0===b)return[];if(0===i.length)return null===v(m,i)?[i]:[];var x=0,y=0,R=[];while(y<i.length){m.lastIndex=w?0:y;var C,A=v(m,w?_(i,y):i);if(null===A||(C=U(d(m.lastIndex+(w?y:0)),i.length))===x)y=p(i,y,g);else{if(E(R,_(i,x,y)),R.length===b)return R;for(var k=1;k<=A.length-1;k++)if(E(R,A[k]),R.length===b)return R;y=x=C}}return E(R,_(i,x)),R}]}),!C,w)},"14c3":function(e,t,n){var r=n("da84"),a=n("c65b"),o=n("825a"),i=n("1626"),s=n("c6b6"),l=n("9263"),u=r.TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var r=a(n,e,t);return null!==r&&o(r),r}if("RegExp"===s(e))return a(l,e,t);throw u("RegExp#exec called on incompatible receiver")}},"25f0":function(e,t,n){"use strict";var r=n("e330"),a=n("5e77").PROPER,o=n("6eeb"),i=n("825a"),s=n("3a9b"),l=n("577e"),u=n("d039"),c=n("ad6d"),p="toString",d=RegExp.prototype,f=d[p],g=r(c),h=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),v=a&&f.name!=p;(h||v)&&o(RegExp.prototype,p,(function(){var e=i(this),t=l(e.source),n=e.flags,r=l(void 0===n&&s(d,e)&&!("flags"in d)?g(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),o=n("b622"),i=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},"474a":function(e,t,n){"use strict";n("d77b")},"4dae":function(e,t,n){var r=n("da84"),a=n("23cb"),o=n("07fa"),i=n("8418"),s=r.Array,l=Math.max;e.exports=function(e,t,n){for(var r=o(e),u=a(t,r),c=a(void 0===n?r:n,r),p=s(l(c-u,0)),d=0;u<c;u++,d++)i(p,d,e[u]);return p.length=d,p}},"5b0e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1,title:"新增用户"}},[n("a-form",[n("a-form-item",{attrs:{label:"头像",labelCol:{span:7},wrapperCol:{span:10}}},[n("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,customRequest:e.upload}},[e.imageUrl?n("img",{attrs:{src:e.imageUrl,alt:"avatar"}}):n("div",[n("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v(" 上传头像 ")])],1)])],1),n("a-form-item",{attrs:{label:e.id,labelCol:{span:7},wrapperCol:{span:10}}},[n("a-input",{attrs:{placeholder:e.idInput},model:{value:e.newUserInfo.id,callback:function(t){e.$set(e.newUserInfo,"id",t)},expression:"newUserInfo.id"}})],1),n("a-form-item",{attrs:{label:e.gender,labelCol:{span:7},wrapperCol:{span:10}}},[n("a-radio-group",{attrs:{name:"genderGroup"},model:{value:e.newUserInfo.gender,callback:function(t){e.$set(e.newUserInfo,"gender",t)},expression:"newUserInfo.gender"}},[n("a-radio",{attrs:{value:0}},[e._v(" 男 ")]),n("a-radio",{attrs:{value:1}},[e._v(" 女 ")])],1)],1),n("a-form-item",{attrs:{label:e.position,labelCol:{span:7},wrapperCol:{span:10}}},[n("a-radio-group",{attrs:{name:"positionGroup"},model:{value:e.newUserInfo.position,callback:function(t){e.$set(e.newUserInfo,"position",t)},expression:"newUserInfo.position"}},[n("a-radio",{attrs:{value:0}},[e._v(" 学生 ")]),n("a-radio",{attrs:{value:1}},[e._v(" 教师 ")]),n("a-radio",{attrs:{value:2}},[e._v(" 职工 ")])],1)],1),n("a-form-item",{attrs:{label:e.email,labelCol:{span:7},wrapperCol:{span:10}}},[n("a-input",{attrs:{placeholder:e.emailInput},model:{value:e.newUserInfo.email,callback:function(t){e.$set(e.newUserInfo,"email",t)},expression:"newUserInfo.email"}})],1),n("a-form-item",{attrs:{label:e.phoneNumber,labelCol:{span:7},wrapperCol:{span:10}}},[n("a-input",{attrs:{placeholder:e.phoneNumberInput},model:{value:e.newUserInfo.phone_number,callback:function(t){e.$set(e.newUserInfo,"phone_number",t)},expression:"newUserInfo.phone_number"}})],1),n("a-form-item",{staticStyle:{"margin-top":"24px"},attrs:{wrapperCol:{span:10,offset:7}}},[e.alert.showAlert?n("a-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{type:e.alert.type,message:e.alert.message,banner:""}}):e._e(),n("a-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)},a=[];n("ac1f"),n("1276"),n("d3b7"),n("25f0"),n("00b4");function o(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}var i={name:"UserAdd",data:function(){return{baseUrl:"https://www.fastmock.site/mock/0aee7559464fadc986c2e38e63492a86/spm",loading:!1,imageUrl:"",id:"学号（工号）",idInput:"请输入学号（工号）",name:"姓名",nameInput:"请输入姓名",gender:"性别",genderInput:"请选择性别",position:"职位",positionInput:"请选择职位",email:"邮箱",emailInput:"请输入邮箱",phoneNumber:"手机号",phoneNumberInput:"请输入手机号",password:"密码",passwordInput:"请输入密码",verify:"确认密码",verifyInput:"确认密码",newUserInfo:{id:"",name:"",avatar:"",gender:-1,position:-1,email:"",phone_number:"",password:""},alert:{showAlert:!1,type:"warning",message:""}}},methods:{handleUpdate:function(e){var t=this;"uploading"!==e.file.status?"done"===e.file.status&&o(e.file.originFileObj,(function(e){t.imageUrl=e,t.loading=!1})):this.loading=!0},upload:function(e){var t=this;this.loading=!0;var n=new FileReader;n.readAsDataURL(e.file),n.onloadend=function(e){var n=this,r=e.target.result.toString().split(",")[1];if(e&&e.target&&e.target.result){var a=r,o={method:"POST",body:a};fetch("https://service-rb270dgm-1301774019.gz.apigw.tencentcs.com/release/SPM_uploadimage",o).then((function(e){return e.text()})).then((function(e){n.loading=!1,t.imageUrl=e,t.newUserInfo.avatar=e,console.log(e)})).catch((function(e){console.log("error",e),t.loading=!1}))}}},showAlert:function(e,t){this.alert.showAlert=!0,this.alert.type=e,this.alert.message=t},submit:function(){var e=this;if(this.newUserInfo.gender<0)this.showAlert("warning","请选择性别");else{this.newUserInfo.position<0&&this.showAlert("warning","请选择职位");var t=/^\d{11}$/;if(t.test(this.newUserInfo.id)){this.newUserInfo.id=parseInt(this.newUserInfo.id);if(t.test(this.newUserInfo.phone_number)){this.newUserInfo.phoneNumber=parseInt(this.newUserInfo.phoneNumber);var n=new Headers;n.append("access_token","test"),n.append("Content-Type","text/plain");var r=this.newUserInfo,a={method:"POST",headers:n,body:r};fetch("".concat(this.baseUrl,"/api/admin/user/add"),a).then((function(e){return e.json()})).then((function(t){0===t.error_code||"0"===t.error_code?(e.showAlert("success","提交成功"),setTimeout((function(){e.$router.push("/admin?tab=user")}),200)):e.showAlert("error",t.error_msg)})).catch((function(t){e.showAlert("error","接口调用错误")}))}else this.showAlert("warning","手机号有误")}else this.showAlert("warning","学工号有误")}}},filter:function(e,t){return t.some((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}},s=i,l=(n("474a"),n("2877")),u=Object(l["a"])(s,r,a,!1,null,null,null);t["default"]=u.exports},8418:function(e,t,n){"use strict";var r=n("a04b"),a=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var i=r(t);i in e?a.f(e,i,o(0,n)):e[i]=n}},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("c65b"),a=n("e330"),o=n("577e"),i=n("ad6d"),s=n("9f7f"),l=n("5692"),u=n("7c73"),c=n("69f3").get,p=n("fce3"),d=n("107c"),f=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,h=g,v=a("".charAt),m=a("".indexOf),b=a("".replace),x=a("".slice),w=function(){var e=/a/,t=/b*/g;return r(g,e,"a"),r(g,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),I=s.BROKEN_CARET,U=void 0!==/()??/.exec("")[1],y=w||U||I||p||d;y&&(h=function(e){var t,n,a,s,l,p,d,y=this,R=c(y),E=o(e),_=R.raw;if(_)return _.lastIndex=y.lastIndex,t=r(h,_,E),y.lastIndex=_.lastIndex,t;var C=R.groups,A=I&&y.sticky,k=r(i,y),S=y.source,O=0,N=E;if(A&&(k=b(k,"y",""),-1===m(k,"g")&&(k+="g"),N=x(E,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==v(E,y.lastIndex-1))&&(S="(?: "+S+")",N=" "+N,O++),n=new RegExp("^(?:"+S+")",k)),U&&(n=new RegExp("^"+S+"$(?!\\s)",k)),w&&(a=y.lastIndex),s=r(g,A?n:y,N),A?s?(s.input=x(s.input,O),s[0]=x(s[0],O),s.index=y.lastIndex,y.lastIndex+=s[0].length):y.lastIndex=0:w&&s&&(y.lastIndex=y.global?s.index+s[0].length:a),U&&s&&s.length>1&&r(f,s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s&&C)for(s.groups=p=u(null),l=0;l<C.length;l++)d=C[l],p[d[0]]=s[d[1]];return s}),e.exports=h},"9f7f":function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp,i=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=i||r((function(){return!o("a","y").sticky})),l=i||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:l,MISSED_STICKY:s,UNSUPPORTED_Y:i}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d77b:function(e,t,n){},d784:function(e,t,n){"use strict";n("ac1f");var r=n("e330"),a=n("6eeb"),o=n("9263"),i=n("d039"),s=n("b622"),l=n("9112"),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,p){var d=s(e),f=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=f&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!g||n){var h=r(/./[d]),v=t(d,""[e],(function(e,t,n,a,i){var s=r(e),l=t.exec;return l===o||l===c.exec?f&&!i?{done:!0,value:h(t,n,a)}:{done:!0,value:s(n,t,a)}:{done:!1}}));a(String.prototype,e,v[0]),a(c,d,v[1])}p&&l(c[d],"sham",!0)}},fce3:function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-39b4837b.5c8ade86.js.map