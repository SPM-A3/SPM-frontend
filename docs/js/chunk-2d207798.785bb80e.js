(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d207798"],{a14f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("a-table",{attrs:{"data-source":t.historyList,rowKey:function(t){return t.borrowing_id},loading:t.loading}},[n("a-table-column",{attrs:{title:"book_name","data-index":"book_name"}}),n("a-table-column",{attrs:{title:"borrowing_id","data-index":"borrowing_id"}}),n("a-table-column",{attrs:{title:"ISBN","data-index":"ISBN"}}),n("a-table-column",{attrs:{title:"borrow_time","data-index":"borrow_time"}}),n("a-table-column",{attrs:{title:"due_time","data-index":"due_time"}}),n("a-table-column",{attrs:{title:"return_time","data-index":"return_time"}}),n("a-table-column",{attrs:{title:"fine","data-index":"fine"}}),n("a-table-column",{attrs:{title:"Action"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[n("a-tooltip",{staticClass:"item",attrs:{effect:"dark",size:"small",content:"借阅详情",placement:"top"}},[n("a-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.routeToDetail(a.borrowing_id)}}},[t._v(" 借阅详情 ")])],1)]}}])})],1)]],2)},r=[],o=n("1da1"),i=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),{data:function(){return{access_token:"",historyList:[],borrowingDetail:[],loading:!0}},created:function(){this.getHistory()},methods:{getHistory:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o,i,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t,n=new Headers,n.append("access_token",t.access_token),a={method:"GET",headers:n},r=new Request("https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/user/borrowing/history",a),e.next=7,fetch(r).then((function(t){return t.json()})).then((function(t){o=t.borrowing_history})).catch((function(t){return console.log("Request Failed",t)}));case 7:i=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c={method:"GET"},u="https://www.fastmock.site/mock/54449dce8948f02a106d0f454713f04b/spm/api/book/detail?ISBN="+o.ISBN,l=new Request(u,c),t.next=5,fetch(l).then((function(t){return t.json()})).then((function(t){o[e].book_name=t.book_info.book_name}));case 5:case"end":return t.stop()}}),t)})),s=0;case 9:if(!(s<o.length)){e.next=14;break}return e.delegateYield(i(s),"t0",11);case 11:s++,e.next=9;break;case 14:t.historyList=o,t.loading=!1;case 16:case"end":return e.stop()}}),e)})))()},routeToDetail:function(t){this.$router.push({path:"/user/borrowing/"+t+"/detail",params:{id:t}})}}}),s=i,c=n("2877"),u=Object(c["a"])(s,a,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d207798.785bb80e.js.map